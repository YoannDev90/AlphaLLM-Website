class LazyLoader{constructor(){this.images=[],this.observer=null,this.init()}init(){"IntersectionObserver"in window?(this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&this.loadImage(e.target)})},{rootMargin:"50px 0px",threshold:.01}),this.observeImages()):this.loadAllImages()}observeImages(){document.querySelectorAll("img[data-src]").forEach(e=>{this.observer.observe(e)})}loadImage(e){const r=e.getAttribute("data-src");r&&(e.src=r,e.classList.add("loaded"),e.removeAttribute("data-src"),this.observer.unobserve(e))}loadAllImages(){document.querySelectorAll("img[data-src]").forEach(e=>{this.loadImage(e)})}}new LazyLoader;