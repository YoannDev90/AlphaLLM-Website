class ErrorTracker{constructor(){this.errors=[],this.maxErrors=10,this.init()}init(){if(window.addEventListener("error",r=>{this.trackError({type:"javascript_error",message:r.message,filename:r.filename,lineno:r.lineno,colno:r.colno,stack:r.error?.stack,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href})}),window.addEventListener("unhandledrejection",r=>{this.trackError({type:"unhandled_promise_rejection",message:r.reason?.message||r.reason,stack:r.reason?.stack,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href})}),"PerformanceObserver"in window)try{new PerformanceObserver(r=>{for(const e of r.getEntries())0===e.transferSize&&0===e.decodedBodySize&&this.trackError({type:"resource_load_error",message:`Failed to load resource: ${e.name}`,resource:e.name,timestamp:(new Date).toISOString(),url:window.location.href})}).observe({entryTypes:["resource"]});new PerformanceObserver(r=>{for(const e of r.getEntries())e.duration>100&&this.trackError({type:"long_task",message:`Long task detected: ${e.duration}ms`,duration:e.duration,timestamp:(new Date).toISOString(),url:window.location.href})}).observe({entryTypes:["longtask"]})}catch(r){console.warn("PerformanceObserver not fully supported:",r)}}trackError(r){this.errors.length>=this.maxErrors&&this.errors.shift(),this.errors.push(r),console.error("[ErrorTracker]",r),this.reportError(r)}reportError(r){}getErrors(){return this.errors}clearErrors(){this.errors=[]}trackCustomError(r,e={}){this.trackError({type:"custom_error",message:r,...e,timestamp:(new Date).toISOString(),url:window.location.href})}}const errorTracker=new ErrorTracker;"undefined"!=typeof module&&module.exports&&(module.exports=ErrorTracker),"undefined"!=typeof window&&(window.ErrorTracker=ErrorTracker,window.errorTracker=errorTracker);